<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Description" content="Documentation for Ethel">
    <title>Ethel Docs</title>
    <base href="/ethel/">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="assets/styles.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  </head>
  <body class="app">
    <section class="header">
      <div class="name">
        <a href="">Ethel Docs</a>
      </div>
    </section>
    <aside class="panel menu">
      <div class="docs-menu">
        
          <p class="menu-label">Basics</p>
          <ul class="menu-list">
              <li>
                <a href="">Overview</a>
                
              </li>
              <li>
                <a href="pages/basic/jobs/">Jobs and runs</a>
                
              </li>
              <li>
                <a href="pages/basic/notifications/">Notifications</a>
                
              </li>
              <li>
                <a href="pages/basic/client/">Client</a>
                
              </li>
              <li>
                <a href="pages/basic/deployment/">Deployment</a>
                
              </li>
              <li>
                <a href="pages/basic/core-config/">Core configuration</a>
                
              </li>
          </ul>
          <p class="menu-label">Runner config</p>
          <ul class="menu-list">
              <li>
                <a href="pages/runner-config/runners/">Runner types</a>
                
              </li>
              <li>
                <a href="pages/runner-config/common-options/">Common options</a>
                
              </li>
              <li>
                <a href="pages/runner-config/mock/">Mock runners</a>
                
              </li>
              <li>
                <a href="pages/runner-config/text-files/">Text files</a>
                
              </li>
              <li>
                <a href="pages/runner-config/file-system/">File system</a>
                
              </li>
              <li>
                <a href="pages/runner-config/databases/">Databases</a>
                
              </li>
              <li>
                <a href="pages/runner-config/email/">Email</a>
                
              </li>
              <li>
                <a href="pages/runner-config/ot/">OpenText runners</a>
                
                  <ul>
                      <li>
                        <a href="pages/runner-config/archive-center/">Archive Server</a>
                      </li>
                      <li>
                        <a href="pages/runner-config/content-server/">Content Server</a>
                      </li>
                      <li>
                        <a href="pages/runner-config/success-factors/">Success Factors</a>
                      </li>
                  </ul>
                
              </li>
              <li>
                <a href="pages/runner-config/microsoft/">Microsoft runners</a>
                
                  <ul>
                      <li>
                        <a href="pages/runner-config/sharepoint/">SharePoint</a>
                      </li>
                  </ul>
                
              </li>
          </ul>
          <p class="menu-label">Development</p>
          <ul class="menu-list">
              <li>
                <a href="pages/development/design/">Design</a>
                
              </li>
              <li>
                <a href="pages/development/repository/">Repository</a>
                
              </li>
              <li>
                <a href="pages/development/server/">Server</a>
                
              </li>
              <li>
                <a href="pages/development/runners/">Runners</a>
                
              </li>
          </ul>
      </div>
    </aside>
    <section class="panel">
      <div class="section">
        <div class="container is-fluid">
          
<h3 class="title is-3">Database runners</h3>
<div class="content">

  <p>These runners read from, or write to, databases.</p>
  <p>The runners are:</p>
  <ul>
    <li><a href="pages/runner-config/databases/#postgres-extractor">PostgresExtractor</a></li>
    <li><a href="pages/runner-config/databases/#postgres-loader">PostgresLoader</a></li>
    <li><a href="pages/runner-config/databases/#sqlite-extractor">SQLiteExtractor</a></li>
    <li><a href="pages/runner-config/databases/#sqlite-loader">SQLiteLoader</a></li>
    <li><a href="pages/runner-config/databases/#sqlserver-extractor">SQLServerExtractor</a></li>
    <li><a href="pages/runner-config/databases/#sqlserver-loader">SQLServerLoader</a></li>
  </ul>

  <section class="extractorBatchConfiguration">

    <p class="title is-4 docs-subhead">Extractor batch configuration</p>

    <p>In some migrations a custom database may be used to control the status of the migration, rather than the ethel
      run and batch configuration. When this happens you may want to change two configuration options:</p>

    <ul>
      <li>disableSkip - by default, batches will skip the number of items already processed in the run. If your process
        removes these processed items from the query results you will want to set <code>disableSkip</code> to true to
        stop the automatic skipping functionality of the batch configuration</li>
      <li>hashName - if the status of each item is being recorded in the database there may be no need for extract hash
        lookups. In this case do not specify a hash name.</li>
    </ul>

  </section>

  <section class="PostgresExtractor">

    <p id="postgres-extractor" class="title is-4 docs-subhead">PostgresExtractor</p>
    <p><a href="pages/runner-config/runner-status/"><span class="tag is-info">Tested</span></a></p>

    <p>This runner extracts data from a Postgres database</p>

    <h5 class="title is-5">Configuration options</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <td>Default</td>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>batchConfig</td>
          <td>number | BatchConfig, <strong>mandatory</strong></td>
          <td>none</td>
          <td>See <a href="pages/runner-config/common-options/#batches">batches</a></td>
        </tr>
        <tr>
          <td>cancelCheckNumber</td>
          <td>number</td>
          <td><code>100</code></td>
          <td>How often, in tasks raised, to check if the extract should be cancelled</td>
        </tr>
        <tr>
          <td>connection</td>
          <td>LookupDetails, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The name and key to the lookup with the connection details.</td>
        </tr>
        <tr>
          <td>disableSkip</td>
          <td>boolean</td>
          <td>false</td>
          <td>Whether to ignore the skip value from the batch config or not.</td>
        </tr>
        <tr>
          <td>filters</td>
          <td>string | string[]</td>
          <td>None</td>
          <td>The extract items to be ignored or included. See <a
              href="pages/runner-config/common-options/#ignore">Ignoring extract
              items</a> for more information.</td>
        </tr>
        <tr>
          <td>lock</td>
          <td>string</td>
          <td>none</td>
          <td>Query to be run before the mandatory query</td>
        </tr>
        <tr>
          <td>hashName</td>
          <td>string</td>
          <td>none</td>
          <td>The lookup name for the extract hash</td>
        </tr>
        <tr>
          <td>quarantinedLookupName</td>
          <td>string</td>
          <td><code>quarantinedPostgresExtractor</code></td>
          <td>Name value for the quarantine lookup</td>
        </tr>
        <tr>
          <td>query</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The query to be run</td>
        </tr>
        <tr>
          <td>unlock</td>
          <td>string</td>
          <td>none</td>
          <td>Query to be run after the mandatory query</td>
        </tr>
      </tbody>
    </table>

    <p>The connection value should include these values:</p>
    <ul>
      <li>database</li>
      <li>user</li>
      <li>password</li>
      <li>host - the server running Postgres. Defaults to localhost</li>
      <li>port - the port where Postgres is listening. Defaults to 5432</li>
    </ul>
    <hr>

    <h5 class="title is-5">Message attributes</h5>

    <p>It adds the following attributes to the message object of raised tasks:</p>
    <ul>
      <li><code>extractItem</code> the row extracted from the database</li>
    </ul>
    <hr>

  </section>

  <section class="PostgresLoader">

    <p id="postgres-loader" class="title is-4 docs-subhead">PostgresLoader</p>
    <p><a href="pages/runner-config/runner-status/"><span class="tag is-info">Tested</span></a></p>

    <p>This runner loads data into a Postgres database</p>

    <h5 class="title is-5">Configuration options</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Default</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>addHash</td>
          <td>boolean</td>
          <td><code>true</code></td>
          <td>Whether to save the extractHash lookup</td>
        </tr>
        <tr>
          <td>connection</td>
          <td>LookupDetails, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The name and key to the lookup with the connection details.</td>
        </tr>
        <tr>
          <td>query</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The insert/update to be run</td>
        </tr>
        <tr>
          <td>queryValues</strong></td>
          <td>string</td>
          <td><code>queryValues</code></td>
          <td>The message attribute containing any values used by the query</td>
        </tr>
        <tr>
          <td>queryValuesTemplate</strong></td>
          <td>string</td>
          <td>none</td>
          <td>The query values used by the query using template literals. If populated queryValues is ignored.</td>
        </tr>
      </tbody>
    </table>

    <p>The connection value should include these values:</p>
    <ul>
      <li>database</li>
      <li>user</li>
      <li>password</li>
      <li>host - the server running Postgres. Defaults to localhost</li>
      <li>port - the port where Postgres is listening. Defaults to 5432</li>
    </ul>
    <hr>

    <h5 class="title is-5">Message attributes</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>extractHash</td>
          <td>Lookup</td>
          <td>The extract hash object</td>
        </tr>
        <tr>
          <td>queryValues</td>
          <td>any[]</td>
          <td>The values used in the query.</td>
        </tr>
      </tbody>
    </table>
    <p>Message attribute names can be changed in the configuration options.</p>
    <p>This runner does not update the message object.</p>
    <hr>

  </section>

  <section class="SQLServerExtractor">

    <p id="sqlite-extractor" class="title is-4 docs-subhead">SQLiteExtractor</p>
    <p><a href="pages/runner-config/runner-status/"><span class="tag is-primary">Production</span></a></p>

    <p>This runner extracts data from a SQLite database</p>

    <h5 class="title is-5">Configuration options</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Default</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>batchConfig</td>
          <td>number | BatchConfig, <strong>mandatory</strong></td>
          <td>none</td>
          <td>See <a href="pages/runner-config/common-options/#batches">batches</a></td>
        </tr>
        <tr>
          <td>cancelCheckNumber</td>
          <td>number</td>
          <td><code>100</code></td>
          <td>How often, in tasks raised, to check if the extract should be cancelled</td>
        </tr>
        <tr>
          <td>dbPath</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The path to the database file.</td>
        </tr>
        <tr>
          <td>disableSkip</td>
          <td>boolean</td>
          <td>false</td>
          <td>Whether to ignore the skip value from the batch config or not.</td>
        </tr>
        <tr>
          <td>filters</td>
          <td>string | string[]</td>
          <td>None</td>
          <td>The extract items to be ignored or included. See <a
              href="pages/runner-config/common-options/#ignore">Ignoring extract
              items</a> for more information.</td>
        </tr>
        <tr>
          <td>hashName</td>
          <td>string</td>
          <td>none</td>
          <td>The lookup name for the extract hash</td>
        </tr>
        <tr>
          <td>lock</td>
          <td>string</td>
          <td>none</td>
          <td>Query to be run before the mandatory query</td>
        </tr>
        <tr>
          <td>quarantinedLookupName</td>
          <td>string</td>
          <td><code>quarantinedSQLiteExtractor</code></td>
          <td>Name value for the quarantine lookup</td>
        </tr>
        <tr>
          <td>query</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The query to be run</td>
        </tr>
        <tr>
          <td>unlock</td>
          <td>string</td>
          <td>none</td>
          <td>Query to be run after the mandatory query</td>
        </tr>
      </tbody>
    </table>
    <hr>

    <h5 class="title is-5">Message attributes</h5>

    <p>It adds the following attributes to the message object of raised tasks:</p>
    <ul>
      <li><code>extractItem</code> the row extracted from the database</li>
    </ul>
    <hr>

  </section>

  <section class="SQLServerLoader">

    <p id="sqlite-loader" class="title is-4 docs-subhead">SQLiteLoader</p>
    <p><a href="pages/runner-config/runner-status/"><span class="tag is-primary">Production</span></a></p>

    <p>This runner loads data into a SQLite database</p>

    <h5 class="title is-5">Configuration options</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Default</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>addHash</td>
          <td>boolean</td>
          <td><code>true</code></td>
          <td>Whether to save the extractHash lookup</td>
        </tr>
        <tr>
          <td>dbPath</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The path to the database file</td>
        </tr>
        <tr>
          <td>query</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The insert/update to be run.</td>
        </tr>
        <tr>
          <td>queryValues</td>
          <td>string</td>
          <td><code>queryValues</code></td>
          <td>The message attribute containing any values used by the query</td>
        </tr>
        <tr>
          <td>queryValuesTemplate</strong></td>
          <td>string</td>
          <td>none</td>
          <td>The query values used by the query using template literals. If populated queryValues is ignored.</td>
        </tr>
      </tbody>
    </table>
    <hr>

    <h5 class="title is-5">Message attributes</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>extractHash</td>
          <td>Lookup</td>
          <td>The extract hash object</td>
        </tr>
        <tr>
          <td>queryValues</td>
          <td>any[]</td>
          <td>The values used in the query.</td>
        </tr>
      </tbody>
    </table>
    <p>Message attribute names can be changed in the configuration options.</p>
    <p>This runner does not update the message object.</p>
    <hr>

  </section>

  <section class="SQLiteExtractor">
    <p id="sqlserver-extractor" class="title is-4 docs-subhead">SQLServerExtractor</p>
    <p><a href="pages/runner-config/runner-status/"><span class="tag is-info">Tested</span></a></p>

    <p>This runner extracts data from a SQLServer database</p>

    <h5 class="title is-5">Configuration options</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Default</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>batchConfig</td>
          <td>number | BatchConfig, <strong>mandatory</strong></td>
          <td>none</td>
          <td>See <a href="pages/runner-config/common-options/#batches">batches</a></td>
        </tr>
        <tr>
          <td>cancelCheckNumber</td>
          <td>number</td>
          <td><code>100</code></td>
          <td>How often, in tasks raised, to check if the extract should be cancelled</td>
        </tr>
        <tr>
          <td>connection</td>
          <td>LookupDetails, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The name and key to the lookup with the connection details</td>
        </tr>
        <tr>
          <td>disableSkip</td>
          <td>boolean</td>
          <td>false</td>
          <td>Whether to ignore the skip value from the batch config or not.</td>
        </tr>
        <tr>
          <td>filters</td>
          <td>string | string[]</td>
          <td>None</td>
          <td>The extract items to be ignored or included. See <a
              href="pages/runner-config/common-options/#ignore">Ignoring extract
              items</a> for more information.</td>
        </tr>
        <tr>
          <td>hashName</td>
          <td>string</td>
          <td>none</td>
          <td>The lookup name for the extract hash</td>
        </tr>
        <tr>
          <td>lock</td>
          <td>string</td>
          <td>none</td>
          <td>Query to be run before the mandatory query</td>
        </tr>
        <tr>
          <td>quarantinedLookupName</td>
          <td>string</td>
          <td><code>quarantinedSQLServerExtractor</code></td>
          <td>Name value for the quarantine lookup name</td>
        </tr>
        <tr>
          <td>query</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The query to be run</td>
        </tr>
        <tr>
          <td>unlock</td>
          <td>string</td>
          <td>none</td>
          <td>Query to be run after the mandatory query</td>
        </tr>
      </tbody>
    </table>

    <p>Information on the connection details in the <a
        href="https://github.com/tediousjs/node-mssql#longer-example-connect-via-config-object" target="_blank">mssql
        project</a></p>
    <hr>

    <h5 class="title is-5">Message attributes</h5>

    <p>It adds the following attributes to the message object of raised tasks:</p>
    <ul>
      <li><code>extractItem</code> the row extracted from the database</li>
    </ul>
    <hr>

  </section>

  <section class="SQLiteLoader">
    <p id="sqlserver-loader" class="title is-4 docs-subhead">SQLServerLoader</p>
    <p><a href="pages/runner-config/runner-status/"><span class="tag is-info">Tested</span></a></p>

    <p>This runner loads data into a SQLServer database</p>

    <h5 class="title is-5">Configuration options</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Default</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>addHash</td>
          <td>boolean</td>
          <td><code>true</code></td>
          <td>Whether to save the extractHash lookup</td>
        </tr>
        <tr>
          <td>connection</td>
          <td>LookupDetails, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The name and key to the lookup with the connection details.</td>
        </tr>
        <tr>
          <td>query</td>
          <td>string, <strong>mandatory</strong></td>
          <td>none</td>
          <td>The insert/update to be run.</td>
        </tr>
        <tr>
          <td>queryValues</td>
          <td>string</td>
          <td><code>queryValues</code></td>
          <td>The message attribute containing any values used by the query</td>
        </tr>
        <tr>
          <td>queryValuesTemplate</strong></td>
          <td>string</td>
          <td>none</td>
          <td>The query values used by the query using template literals. If populated queryValues is ignored.</td>
        </tr>
      </tbody>
    </table>
    <hr>

    <h5 class="title is-5">Message attributes</h5>

    <table class="table is-fullwidth">
      <thead>
        <th>Option</th>
        <th>Data type</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>extractHash</td>
          <td>Lookup</td>
          <td>The extract hash object</td>
        </tr>
        <tr>
          <td>queryValues</td>
          <td>{ name: string; type: SQLServerLoaderDataType; value: any; }[]</td>
          <td>The values used in the query.</td>
        </tr>
      </tbody>
    </table>
    <p>Message attribute names can be changed in the configuration options.</p>

    <p>This runner does not update the message object.</p>
    <hr>

    <p>SQLServerLoaderDataType values:</p>
    <pre class="code">'Bit'
'BigInt'
'Decimal'
'Float'
'Int'
'Money'
'Numeric'
'SmallInt'
'SmallMoney'
'Real'
'TinyInt'
'Char'
'NChar'
'Text'
'NText'
'VarChar'
'NVarChar'
'Xml'
'Time'
'Date'
'DateTime'
'DateTime2'
'DateTimeOffset'
'SmallDateTime'
'UniqueIdentifier'
'Variant'
'Binary'
'VarBinary'
'Image'
'UDT'
'Geography'
'Geometry'</pre>

  </section>

</div>
        </div>
        <div class="container is-fluid dl-footer">
          <a href="https://driverlane.com.au">Driver Lane</a>
          &copy; 2020-2025
        </div>
      </div>
    </div>
  </body>
</html>